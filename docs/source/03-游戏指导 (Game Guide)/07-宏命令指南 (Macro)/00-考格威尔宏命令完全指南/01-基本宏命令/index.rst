.. _宏_基本宏命令:

基本宏命令
------------------------------------------------------------------------------
什么是宏？宏是由一组宏命令组成的。以下是一些普通宏命令::

    /say (/s)
    /whisper(/w, /talk, /t)
    /emote(/e, /em, /me)
    /dance

喜爱PVP的人，应该不会忘了这个：``/spit``

利用宏，我们可以把这些宏命令放到技能栏上点击使用，而且可以同时做多个动作。写宏的时候，每条动作写在一行上，就像在聊天界面中输入的一样。比如，让你的角色喊一声“Everybody, dance now!”然后开始跳舞的宏::

    /y Everybody, dance now!
    /dance

一个基本完整的宏命令列表可以参考这里：《宏命令全表》，不过个别新添加的宏命令还没有被收录。WoWWiki有很多关于宏的资料，尤其是脚本和/run命令（后面将会提到）。 注：我先在此说一下，宏的执行是立即进行的。这意味着当你点击技能栏上的一个宏时，宏命令会一条接一条地执行，执行完后才会返回游戏控制。这将会产生两个重要问题：第一，如果写了一个会执行很长时间的宏（如：/run for i=1, 1000000000 do end），游戏会被卡死，直到它执行结束；第二，也是更重要的一点，那就是宏命令不可能具有延时功能。这一现象在我们熟悉/cast之类的命令后就可以很清楚地感觉到。而一些提供了延时执行命令功能的插件，只能是能执行一些所谓的“良性命令”，如交谈、表情和对于其他插件命令的调用（不过战斗中更换武器是可以进行的）。


怎样写宏？
------------------------------------------------------------------------------
首先，打开你的宏窗口：单击主菜单上的“宏”按钮，或者在聊天界面中输入/macro（/m）回车。在宏窗口的顶端，可以看见两个标签：“通用宏”和“<你的角色名>的专用宏”。通用宏被存储在账号专有的文件夹中，被所有角色共享。而角色专用宏则存储在角色自己的文件夹下，是角色专用的（废话……囧）。在标签下面是18个存放宏的栏位。再往下是一个栏位，用于显示当前选中的宏；还有一个“修改名称/图标”的按钮，用于修改选中的宏。然后是一个用于显示、编辑当前宏的文本框。最下面是三个按钮，傻子也能看出它们是干什么的。 如果要创建一个宏，首先单击窗口下方的“新建”按钮，这时窗口旁边会显示一个对话框，用于选择图标和输入宏的名称。如果选择了第一个图标（就是那个很红很暴力的问号），WoW会自动根据你宏命令中涉及的技能或物品选择图标。选好图标，输入完名称，就可以单击“确定”按钮了。 顺便提几点：1.使用问号图标的宏，可以通过使用#show指定显示的图标。2.虽然可以给不同的宏起相同的名字，但是最好不要这样做。因为有些插件和宏命令是通过宏名称来调用宏的。3.在图标列表中可以添加自定义的图标。 现在，你选择的宏图标被显示在栏位中了（还会显示部分宏名称）。同时，新建的宏被选中，图标显示在当前选中宏的栏位中：现在你可以写你的宏了。单击编辑文本框，然后输入吧。 注：宏限定为255个字符，传闻这样做是为了以后可以把用户的宏上传到服务器中。不过……现在能做的就是遵循这个限定，至于想要把宏移植到其他机器上使用，请参见第三部分的宏的移植。 写完宏以后，只要把它的图标拖放到技能栏中就可以了。当你执行一个宏，或者是关闭宏窗口的时候，宏都会自动保存的。现在点击宏的图标，看看效果吧！
